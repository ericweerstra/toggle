define(["exports","module","utils/Observer"],function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=r(n),s=function(){function e(){i(this,e),this._toggles=[],this._groupHandlers=[]}return u(e,[{key:"register",value:function(e){var t=this;if(this._toggles.push(e),e.group){var n=function(e){return t._handleGroup(e)};o["default"].subscribe(e,e.activeEvent,n),this._groupHandlers[this._toggles.indexOf(e)]=n}}},{key:"unregister",value:function(e){var t=this._toggles.indexOf(e);if(this._toggles.splice(t,1),e.group){var n=this._groupHandlers[t];o["default"].unsubscribe(e,e.activeEvent,n),this._groupHandlers.splice(t,1)}}},{key:"getToggles",value:function(e){var t=this;return e?e.split(",").map(function(e){return t._getToggle(e)}):[]}},{key:"_getToggle",value:function(e){return this._toggles.find(function(t){return t.id===e})}},{key:"_handleGroup",value:function(e){this._toggles.forEach(function(t){t!==e&&t.group===e.group&&t.active&&t.deactivate()})}}]),e}();t.exports=new s});
